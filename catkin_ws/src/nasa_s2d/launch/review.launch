<?xml version="1.0" encoding="UTF-8"?>
<launch>

    <arg name="bagroot"             default="$(eval env('HOME') + '/Documents/bags/nasa/')" />
    <arg name="bagname"             default="run3.bag" />
    <arg name="bagpath"             default="$(arg bagroot)/$(arg bagname)" />
    <arg name="hide_bag"            default="false" />
    <!-- <arg name="show_dashboard"      default="true" /> -->
    <!-- <arg name="tuning"              default="true" /> -->
    <!-- <arg name="ns"                  default="review" /> -->

    <!-- ###################################################################### -->

    <!-- make all nodes use sim time -->
    <param name="use_sim_time" type="bool" value="true" />

    <!-- launch-prefix settings for xterm, with ability to be hidden -->
    <arg if="$(arg hide_bag)"     name="prefix" value="" />
    <arg unless="$(arg hide_bag)" name="prefix" value="xterm -hold -geometry 100x20 -e" />

    <!-- The video in the rosbag is compressed - this decompresses it for visual_mtt -->
<!--     <node pkg="image_transport" type="republish" name="decompress" output="log" args="compressed in:=camera/image_raw out:=$(arg ns)/camera/image_raw" /> -->

    <!-- Play the selected rosbag. Also, remap the camera_info topic into the review namespace -->
    <node pkg="rosbag" type="play" name="player" args="--pause $(arg bagpath) --clock" launch-prefix="$(arg prefix)">
      <!-- <remap `from="camera/camera_info" to="$(arg ns)/camera/camera_info" /> -->
      <!-- <rem`ap from="/tf" to="/tf_old" /> -->
    </node>



    <!-- Safe2Ditch Visualization in rviz -->
    <include file="$(find nasa_s2d)/launch/visualization.launch" />

</launch>
